<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A2A Confucian Philosophers: Architecture & Implementation</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        :root {
            --chinese-red: #8B0000;
            --chinese-gold: #FFD700;
            --paper-beige: #F5F5DC;
            --light-cream: #FFFEF0;
            --ink-black: #1a1a1a;
            --level-1: #8B0000;
            --level-2: #CD5C5C;
            --level-3: #666;
            --level-4: #999;
            --confucius-blue: #4A90E2;
            --laotse-green: #50C878;
            --mozi-purple: #9370DB;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, var(--paper-beige) 0%, var(--light-cream) 100%);
            color: var(--ink-black);
            margin: 0;
            padding: 0;
            width: 100vw;
            max-width: 100%;
            line-height: 1.3;
            font-size: 14px;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro', 'Segoe UI', Roboto, Arial, sans-serif;
        }

        .container {
            width: 100%;
            padding: 0;
            margin: 0;
        }

        h1 {
            font-size: 32px;
            font-weight: 900;
            margin: 12px 0;
            padding: 16px 12px;
            background: linear-gradient(135deg, var(--chinese-red), #CD5C5C);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
            text-align: center;
        }

        h2 {
            font-size: 22px;
            font-weight: 700;
            margin: 16px 0 8px 0;
            padding: 8px 12px;
            border-left: 4px solid var(--chinese-red);
            background: rgba(139, 0, 0, 0.05);
            color: var(--level-1);
        }

        h3 {
            font-size: 18px;
            font-weight: 600;
            margin: 12px 0 6px 12px;
            color: var(--level-2);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        h4 {
            font-size: 15px;
            font-weight: 600;
            margin: 8px 0 4px 16px;
            color: var(--level-3);
        }

        h5 {
            font-size: 14px;
            font-weight: 500;
            margin: 6px 0 3px 24px;
            color: var(--level-4);
        }

        .important-always-visible {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), white);
            border: 3px solid var(--chinese-gold);
            padding: 16px;
            margin: 20px 12px;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(139, 0, 0, 0.1);
        }

        .important-always-visible h2 {
            color: var(--chinese-red);
            margin-top: 0;
            border-left: none;
            background: none;
            padding-left: 0;
        }

        .collapsible {
            margin: 8px 12px;
            width: calc(100% - 24px);
        }

        .collapsible-header {
            cursor: pointer;
            padding: 10px 16px;
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.06), rgba(255, 215, 0, 0.03));
            border-left: 3px solid var(--chinese-gold);
            display: flex;
            align-items: center;
            justify-content: space-between;
            user-select: none;
            transition: all 0.2s ease;
            font-weight: 600;
            font-size: 16px;
            color: var(--level-2);
        }

        .collapsible-header:hover {
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.12), rgba(255, 215, 0, 0.06));
        }

        .collapsible-header .arrow {
            display: inline-block;
            transition: transform 0.3s ease;
            color: var(--chinese-red);
            font-size: 14px;
            font-weight: bold;
        }

        .collapsible.open .arrow {
            transform: rotate(90deg);
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 16px;
            margin-left: 12px;
        }

        .collapsible.open .collapsible-content {
            max-height: 20000px;
            padding: 16px;
        }

        .collapsible.critical .collapsible-header {
            border-left: 4px solid var(--chinese-red);
            background: rgba(139, 0, 0, 0.1);
            font-weight: 700;
            font-size: 17px;
        }

        .two-column-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            padding: 8px;
        }

        .three-column-layout {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
            padding: 8px;
        }

        .card {
            background: white;
            border: 1px solid rgba(139, 0, 0, 0.2);
            border-radius: 3px;
            padding: 12px;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
            margin: 8px 0;
        }

        .card.priority {
            border: 2px solid var(--chinese-gold);
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.08), white);
        }

        .card.confucius {
            border-left: 4px solid var(--confucius-blue);
        }

        .card.laotse {
            border-left: 4px solid var(--laotse-green);
        }

        .card.mozi {
            border-left: 4px solid var(--mozi-purple);
        }

        .card h4 {
            margin: 0 0 8px 0;
            color: var(--chinese-red);
        }

        .dense-list {
            list-style: none;
            padding: 0;
            margin: 8px 0 8px 12px;
        }

        .dense-list li {
            padding: 4px 0 4px 16px;
            border-left: 2px solid transparent;
            position: relative;
            line-height: 1.5;
        }

        .dense-list li:before {
            content: "‚ñ∏";
            position: absolute;
            left: 0;
            color: var(--chinese-red);
            font-size: 12px;
        }

        .dense-list li strong {
            color: var(--level-2);
            font-weight: 600;
        }

        pre, code {
            background: linear-gradient(135deg, rgba(245, 245, 220, 0.4), rgba(255, 255, 255, 0.6));
            border: 1px solid rgba(139, 0, 0, 0.15);
            padding: 2px 6px;
            margin: 2px 0;
            font-size: 12px;
            line-height: 1.3;
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            border-radius: 2px;
        }

        pre {
            padding: 12px;
            margin: 8px 0;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
            font-size: 13px;
            background: white;
        }

        th, td {
            border: 1px solid rgba(139, 0, 0, 0.2);
            padding: 8px 10px;
            text-align: left;
            line-height: 1.4;
        }

        th {
            background: rgba(139, 0, 0, 0.12);
            font-weight: 700;
            color: var(--level-1);
        }

        .divider {
            height: 2px;
            background: linear-gradient(90deg, var(--chinese-red), transparent);
            margin: 20px 12px;
        }

        .indent-1 { margin-left: 20px; }
        .indent-2 { margin-left: 40px; }
        .indent-3 { margin-left: 60px; }

        .highlight-box {
            background: rgba(255, 215, 0, 0.1);
            border-left: 4px solid var(--chinese-gold);
            padding: 12px 16px;
            margin: 12px 0;
        }

        button, .button {
            background: linear-gradient(135deg, var(--chinese-red), #CD5C5C);
            color: white;
            border: 1px solid rgba(255, 215, 0, 0.3);
            transition: all 0.2s ease;
            padding: 6px 14px;
            margin: 2px;
            font-size: 14px;
            line-height: 1.3;
            border-radius: 3px;
            cursor: pointer;
            font-weight: 600;
        }

        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(139, 0, 0, 0.3);
            border-color: var(--chinese-gold);
        }

        .expand-all-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .mermaid {
            background: white;
            padding: 20px;
            margin: 16px 0;
            border: 2px solid var(--chinese-gold);
            border-radius: 4px;
            overflow-x: auto;
        }

        .philosopher-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-right: 8px;
        }

        .badge-confucius { background: #E3F2FD; color: var(--confucius-blue); }
        .badge-laotse { background: #E8F5E9; color: var(--laotse-green); }
        .badge-mozi { background: #F3E5F5; color: var(--mozi-purple); }
        .badge-moderator { background: #FFF3E0; color: #E65100; }

        .api-endpoint {
            background: #f8f8f8;
            border-left: 3px solid var(--confucius-blue);
            padding: 8px 12px;
            margin: 8px 0;
            font-family: monospace;
            font-size: 12px;
        }

        .api-method {
            display: inline-block;
            background: var(--chinese-red);
            color: white;
            padding: 2px 8px;
            border-radius: 2px;
            font-weight: 700;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="expand-all-btn" onclick="toggleAll()">Expand All</button>

        <h1>üèõÔ∏è Ancient Philosophers Dialogue via A2A Protocol</h1>
        <h1 style="font-size: 24px; margin-top: -8px;">Confucius, Lao Tse & Mozi Discuss: "What is a Good Life?"</h1>

        <div class="important-always-visible">
            <h2>üéØ Project Vision</h2>
            <p style="font-size: 16px; line-height: 1.6; margin: 10px 0;">
                Build a <strong>multi-agent philosophical dialogue system</strong> where three ancient Chinese philosophers‚Äî<strong>Confucius</strong> (ÂÑíÂÆ∂), <strong>Lao Tse</strong> (ÈÅìÂÆ∂), and <strong>Mozi</strong> (Â¢®ÂÆ∂)‚Äîengage in a structured conversation about the nature of a good life, powered by the <strong>Agent2Agent (A2A) Protocol</strong>.
            </p>

            <div class="highlight-box" style="margin-top: 16px;">
                <strong style="color: var(--chinese-red); font-size: 15px;">Core Innovation:</strong>
                <span style="font-size: 14px;">Each philosopher operates as an autonomous A2A agent with distinct philosophical perspectives, communicating via JSON-RPC to debate and build upon each other's arguments‚Äîdemonstrating A2A's power for multi-agent collaboration in educational contexts.</span>
            </div>

            <div class="three-column-layout" style="margin-top: 16px;">
                <div class="card confucius">
                    <h4><span class="philosopher-badge badge-confucius">Confucius</span></h4>
                    <p style="font-size: 13px; margin: 4px 0;"><strong>Philosophy:</strong> Virtue ethics, social harmony, ritual propriety (li Á¶Æ)</p>
                    <p style="font-size: 13px; margin: 4px 0;"><strong>Port:</strong> 8001</p>
                </div>
                <div class="card laotse">
                    <h4><span class="philosopher-badge badge-laotse">Lao Tse</span></h4>
                    <p style="font-size: 13px; margin: 4px 0;"><strong>Philosophy:</strong> Daoist naturalism, wu wei (ÁÑ°ÁÇ∫), spontaneity</p>
                    <p style="font-size: 13px; margin: 4px 0;"><strong>Port:</strong> 8002</p>
                </div>
                <div class="card mozi">
                    <h4><span class="philosopher-badge badge-mozi">Mozi</span></h4>
                    <p style="font-size: 13px; margin: 4px 0;"><strong>Philosophy:</strong> Consequentialism, universal love (ÂÖºÊÑõ), utilitarianism</p>
                    <p style="font-size: 13px; margin: 4px 0;"><strong>Port:</strong> 8003</p>
                </div>
            </div>
        </div>

        <div class="divider"></div>

        <div class="collapsible critical open">
            <div class="collapsible-header" onclick="toggle(this)">
                <span><span class="arrow">‚ñ∂</span> System Architecture Overview</span>
            </div>
            <div class="collapsible-content">
                <h3>High-Level Architecture</h3>
                <div class="mermaid">
graph TB
    subgraph Frontend["üñ•Ô∏è Frontend Layer (Optional)"]
        UI[Web Interface<br/>React/Vue App<br/>Port 3000]
    end

    subgraph Orchestration["üé≠ Orchestration Layer"]
        MOD[Dialogue Moderator Agent<br/>Port 8000<br/>Coordinates Discussion]
    end

    subgraph Philosophers["üèõÔ∏è Philosopher Agents (A2A Protocol)"]
        CONF[Confucius Agent<br/>ÂÑíÂÆ∂ÊÄùÊÉ≥<br/>Port 8001]
        LAO[Lao Tse Agent<br/>ÈÅìÂÆ∂ÊÄùÊÉ≥<br/>Port 8002]
        MOZI[Mozi Agent<br/>Â¢®ÂÆ∂ÊÄùÊÉ≥<br/>Port 8003]
    end

    subgraph Discovery["üìã Service Discovery"]
        CARDS[Agent Cards<br/>.well-known/agent.json]
    end

    UI -->|HTTP Request| MOD
    MOD -->|A2A: tasks/send| CONF
    MOD -->|A2A: tasks/send| LAO
    MOD -->|A2A: tasks/send| MOZI

    CONF -.->|A2A: message/send| LAO
    LAO -.->|A2A: message/send| MOZI
    MOZI -.->|A2A: message/send| CONF

    CONF --> CARDS
    LAO --> CARDS
    MOZI --> CARDS
    MOD --> CARDS

    style CONF fill:#E3F2FD,stroke:#4A90E2,stroke-width:3px
    style LAO fill:#E8F5E9,stroke:#50C878,stroke-width:3px
    style MOZI fill:#F3E5F5,stroke:#9370DB,stroke-width:3px
    style MOD fill:#FFF3E0,stroke:#E65100,stroke-width:3px
                </div>

                <h3>Communication Flow: Round-Robin Discussion</h3>
                <div class="mermaid">
sequenceDiagram
    participant User as üë§ User
    participant Mod as üé≠ Moderator<br/>(Port 8000)
    participant Conf as üîµ Confucius<br/>(Port 8001)
    participant Lao as üü¢ Lao Tse<br/>(Port 8002)
    participant Mozi as üü£ Mozi<br/>(Port 8003)

    User->>Mod: Start discussion:<br/>"What is a good life?"

    Note over Mod: Round 1: Initial Positions
    Mod->>Conf: A2A tasks/send<br/>"Share your view on good life"
    Conf-->>Mod: "Good life through virtue (Âæ∑)<br/>and ritual propriety (Á¶Æ)"

    Mod->>Lao: A2A tasks/send<br/>"Share your view, consider Confucius"
    Lao-->>Mod: "Good life through naturalness (Ëá™ÁÑ∂)<br/>and non-action (ÁÑ°ÁÇ∫)"

    Mod->>Mozi: A2A tasks/send<br/>"Share your view, consider both"
    Mozi-->>Mod: "Good life through universal love (ÂÖºÊÑõ)<br/>and maximizing benefit"

    Note over Mod: Round 2: Cross-Examination
    Mod->>Lao: A2A tasks/send<br/>"Critique Confucius' position"
    Lao-->>Mod: "Rituals constrain natural flow..."

    Mod->>Conf: A2A tasks/send<br/>"Respond to Lao Tse's critique"
    Conf-->>Mod: "Structure enables harmony..."

    Mod->>Mozi: A2A tasks/send<br/>"Evaluate both arguments"
    Mozi-->>Mod: "Both lack practical utility..."

    Note over Mod: Round 3: Synthesis
    Mod->>Conf: A2A tasks/send<br/>"Find common ground"
    Conf-->>Mod: Synthesis response

    Mod->>Lao: A2A tasks/send<br/>"Find common ground"
    Lao-->>Mod: Synthesis response

    Mod->>Mozi: A2A tasks/send<br/>"Find common ground"
    Mozi-->>Mod: Synthesis response

    Mod->>User: Final transcript with all positions
                </div>

                <h3>Key Architectural Components</h3>
                <div class="two-column-layout">
                    <div class="card priority">
                        <h4>1. Philosopher Agents (A2A Servers)</h4>
                        <ul class="dense-list">
                            <li><strong>Technology:</strong> Python + <code>a2a-python</code> SDK</li>
                            <li><strong>LLM Backend:</strong> Anthropic Claude (via Agent SDK) or OpenAI GPT-4</li>
                            <li><strong>Agent Card:</strong> Each publishes <code>.well-known/agent.json</code></li>
                            <li><strong>Skills:</strong> <code>share_position</code>, <code>critique_argument</code>, <code>find_synthesis</code></li>
                            <li><strong>Stateful:</strong> Maintains conversation history and philosophical context</li>
                            <li><strong>Ports:</strong> 8001 (Confucius), 8002 (Lao Tse), 8003 (Mozi)</li>
                        </ul>
                    </div>
                    <div class="card priority">
                        <h4>2. Dialogue Moderator (Orchestrator)</h4>
                        <ul class="dense-list">
                            <li><strong>Role:</strong> Coordinates multi-turn philosophical dialogue</li>
                            <li><strong>Responsibilities:</strong>
                                <ul class="dense-list indent-1">
                                    <li>Discovers agents via Agent Cards</li>
                                    <li>Manages discussion rounds (Initial ‚Üí Critique ‚Üí Synthesis)</li>
                                    <li>Routes messages between philosophers</li>
                                    <li>Tracks conversation state and context</li>
                                </ul>
                            </li>
                            <li><strong>Port:</strong> 8000</li>
                            <li><strong>A2A Methods Used:</strong> <code>tasks/send</code>, <code>tasks/get</code>, <code>message/send</code></li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h4>3. Optional Frontend (Web UI)</h4>
                    <ul class="dense-list">
                        <li><strong>Purpose:</strong> Display real-time dialogue between philosophers</li>
                        <li><strong>Technology:</strong> React/Vue + SSE (Server-Sent Events) for streaming</li>
                        <li><strong>Features:</strong>
                            <ul class="dense-list indent-1">
                                <li>Chat-style interface with color-coded philosopher messages</li>
                                <li>Expandable philosophical context for each statement</li>
                                <li>Dialogue flow visualization (who's responding to whom)</li>
                                <li>Export transcript as markdown or PDF</li>
                            </ul>
                        </li>
                        <li><strong>Port:</strong> 3000</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="divider"></div>

        <div class="collapsible critical open">
            <div class="collapsible-header" onclick="toggle(this)">
                <span><span class="arrow">‚ñ∂</span> A2A Protocol: APIs & Agent Cards</span>
            </div>
            <div class="collapsible-content">
                <h3>Agent Card Specifications</h3>

                <h4><span class="philosopher-badge badge-confucius">Confucius</span> Agent Card</h4>
                <div class="api-endpoint">
                    <span class="api-method">GET</span>
                    http://localhost:8001/.well-known/agent.json
                </div>
                <pre>{
  "name": "Confucius Agent",
  "version": "1.0.0",
  "description": "Confucian philosopher agent specializing in virtue ethics, ritual propriety (li), and social harmony",
  "url": "http://localhost:8001",
  "provider": {
    "organization": "Ancient Philosophy Lab",
    "url": "https://github.com/yourorg/a2a-philosophers"
  },
  "capabilities": {
    "streaming": true,
    "pushNotifications": false,
    "stateTransitionHistory": true
  },
  "defaultInputModes": ["text/plain", "application/json"],
  "defaultOutputModes": ["text/plain", "application/json"],
  "skills": [
    {
      "id": "share_position",
      "name": "Share Philosophical Position",
      "description": "Articulate Confucian view on a given topic (e.g., good life, justice, education)",
      "parameters": {
        "topic": { "type": "string", "required": true },
        "context": { "type": "array", "items": "string", "description": "Previous statements by other philosophers" }
      }
    },
    {
      "id": "critique_argument",
      "name": "Critique Argument",
      "description": "Provide Confucian critique of another philosopher's position",
      "parameters": {
        "philosopher": { "type": "string", "enum": ["Lao Tse", "Mozi"] },
        "argument": { "type": "string", "required": true }
      }
    },
    {
      "id": "find_synthesis",
      "name": "Find Common Ground",
      "description": "Attempt to synthesize or find harmony between different philosophical positions",
      "parameters": {
        "positions": { "type": "array", "items": "string" }
      }
    }
  ],
  "extensions": {
    "philosophical_school": "Confucianism (ÂÑíÂÆ∂)",
    "core_concepts": ["ren (‰ªÅ - benevolence)", "li (Á¶Æ - ritual propriety)", "xiao (Â≠ù - filial piety)", "junzi (ÂêõÂ≠ê - exemplary person)"],
    "historical_period": "551-479 BCE",
    "primary_texts": ["Analects (Ë´ñË™û)"]
  }
}</pre>

                <h4><span class="philosopher-badge badge-laotse">Lao Tse</span> Agent Card</h4>
                <div class="api-endpoint">
                    <span class="api-method">GET</span>
                    http://localhost:8002/.well-known/agent.json
                </div>
                <pre>{
  "name": "Lao Tse Agent",
  "version": "1.0.0",
  "description": "Daoist philosopher agent specializing in naturalness (ziran), non-action (wu wei), and the Way (Dao)",
  "url": "http://localhost:8002",
  "provider": {
    "organization": "Ancient Philosophy Lab",
    "url": "https://github.com/yourorg/a2a-philosophers"
  },
  "capabilities": {
    "streaming": true,
    "pushNotifications": false,
    "stateTransitionHistory": true
  },
  "defaultInputModes": ["text/plain", "application/json"],
  "defaultOutputModes": ["text/plain", "application/json"],
  "skills": [
    {
      "id": "share_position",
      "name": "Share Philosophical Position",
      "description": "Articulate Daoist view emphasizing naturalness and spontaneity",
      "parameters": {
        "topic": { "type": "string", "required": true },
        "context": { "type": "array", "items": "string" }
      }
    },
    {
      "id": "critique_argument",
      "name": "Critique Argument",
      "description": "Critique from Daoist perspective, often questioning artificiality and over-structuring",
      "parameters": {
        "philosopher": { "type": "string", "enum": ["Confucius", "Mozi"] },
        "argument": { "type": "string", "required": true }
      }
    },
    {
      "id": "find_synthesis",
      "name": "Find Common Ground",
      "description": "Seek underlying unity (Dao) beneath different positions",
      "parameters": {
        "positions": { "type": "array", "items": "string" }
      }
    }
  ],
  "extensions": {
    "philosophical_school": "Daoism (ÈÅìÂÆ∂)",
    "core_concepts": ["Dao (ÈÅì - the Way)", "wu wei (ÁÑ°ÁÇ∫ - non-action)", "ziran (Ëá™ÁÑ∂ - naturalness)", "pu (Êú¥ - simplicity)"],
    "historical_period": "6th-4th century BCE (attributed)",
    "primary_texts": ["Dao De Jing (ÈÅìÂæ∑Á∂ì)"]
  }
}</pre>

                <h4><span class="philosopher-badge badge-mozi">Mozi</span> Agent Card</h4>
                <div class="api-endpoint">
                    <span class="api-method">GET</span>
                    http://localhost:8003/.well-known/agent.json
                </div>
                <pre>{
  "name": "Mozi Agent",
  "version": "1.0.0",
  "description": "Mohist philosopher agent specializing in universal love (jian ai), consequentialism, and utilitarianism",
  "url": "http://localhost:8003",
  "provider": {
    "organization": "Ancient Philosophy Lab",
    "url": "https://github.com/yourorg/a2a-philosophers"
  },
  "capabilities": {
    "streaming": true,
    "pushNotifications": false,
    "stateTransitionHistory": true
  },
  "defaultInputModes": ["text/plain", "application/json"],
  "defaultOutputModes": ["text/plain", "application/json"],
  "skills": [
    {
      "id": "share_position",
      "name": "Share Philosophical Position",
      "description": "Articulate Mohist view emphasizing utility and universal love",
      "parameters": {
        "topic": { "type": "string", "required": true },
        "context": { "type": "array", "items": "string" }
      }
    },
    {
      "id": "critique_argument",
      "name": "Critique Argument",
      "description": "Critique from consequentialist perspective, evaluating practical outcomes",
      "parameters": {
        "philosopher": { "type": "string", "enum": ["Confucius", "Lao Tse"] },
        "argument": { "type": "string", "required": true }
      }
    },
    {
      "id": "find_synthesis",
      "name": "Find Common Ground",
      "description": "Find pragmatic synthesis based on maximizing overall benefit",
      "parameters": {
        "positions": { "type": "array", "items": "string" }
      }
    }
  ],
  "extensions": {
    "philosophical_school": "Mohism (Â¢®ÂÆ∂)",
    "core_concepts": ["jian ai (ÂÖºÊÑõ - universal love)", "li (Âà© - benefit/utility)", "tian zhi (Â§©Âøó - Will of Heaven)", "shang tong (Â∞öÂêå - conforming upward)"],
    "historical_period": "470-391 BCE",
    "primary_texts": ["Mozi (Â¢®Â≠ê)"]
  }
}</pre>

                <h3>A2A Protocol Methods Used</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Purpose</th>
                            <th>Request Format</th>
                            <th>When Used</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>tasks/send</code></td>
                            <td>Send a task to an agent (potentially long-running)</td>
                            <td>
<pre>{
  "jsonrpc": "2.0",
  "method": "tasks/send",
  "params": {
    "task": {
      "parts": [{
        "type": "text",
        "text": "What is your view on good life?"
      }]
    }
  },
  "id": 1
}</pre>
                            </td>
                            <td>Moderator initiating dialogue rounds</td>
                        </tr>
                        <tr>
                            <td><code>tasks/get</code></td>
                            <td>Retrieve task status and results</td>
                            <td>
<pre>{
  "jsonrpc": "2.0",
  "method": "tasks/get",
  "params": {
    "taskId": "task-uuid-123"
  },
  "id": 2
}</pre>
                            </td>
                            <td>Polling for philosopher response if async</td>
                        </tr>
                        <tr>
                            <td><code>message/send</code></td>
                            <td>Send conversational message (immediate response)</td>
                            <td>
<pre>{
  "jsonrpc": "2.0",
  "method": "message/send",
  "params": {
    "message": {
      "role": "user",
      "parts": [{
        "type": "text",
        "text": "Critique: 'Rituals are artificial'"
      }]
    },
    "conversationId": "conv-456"
  },
  "id": 3
}</pre>
                            </td>
                            <td>Quick back-and-forth critiques</td>
                        </tr>
                        <tr>
                            <td><code>message/stream</code></td>
                            <td>Stream message with SSE for real-time updates</td>
                            <td>
<pre>{
  "jsonrpc": "2.0",
  "method": "message/stream",
  "params": {
    "message": { ... },
    "conversationId": "conv-456"
  },
  "id": 4
}</pre>
                            </td>
                            <td>Streaming philosophical responses to UI</td>
                        </tr>
                        <tr>
                            <td><code>agent/getCard</code></td>
                            <td>Fetch agent card (capabilities, skills)</td>
                            <td>
<pre>{
  "jsonrpc": "2.0",
  "method": "agent/getCard",
  "id": 5
}</pre>
                            </td>
                            <td>Moderator discovering philosopher agents at startup</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Example A2A Exchange: Confucius Shares Position</h3>
                <div class="two-column-layout">
                    <div class="card">
                        <h4>Request (Moderator ‚Üí Confucius)</h4>
                        <pre>POST http://localhost:8001/
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "method": "tasks/send",
  "params": {
    "task": {
      "parts": [{
        "type": "text",
        "text": "You are Confucius. Share your view on what constitutes a good life. Keep it under 200 words."
      }]
    }
  },
  "id": "mod-round1-confucius"
}</pre>
                    </div>
                    <div class="card">
                        <h4>Response (Confucius ‚Üí Moderator)</h4>
                        <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": "mod-round1-confucius",
  "result": {
    "id": "task-conf-001",
    "contextId": "dialogue-good-life",
    "status": {
      "state": "completed",
      "timestamp": "2025-10-03T14:30:00Z"
    },
    "artifacts": [{
      "artifactId": "conf-response-001",
      "parts": [{
        "kind": "text",
        "text": "A good life is achieved through the cultivation of virtue (Âæ∑ de) and the practice of ritual propriety (Á¶Æ li). One must strive to become a junzi (ÂêõÂ≠ê), an exemplary person who embodies benevolence (‰ªÅ ren) and righteousness (Áæ© yi).\n\nThe path involves:\n1. Self-cultivation through study and reflection\n2. Proper relationships: filial piety to parents, loyalty to rulers, sincerity with friends\n3. Observance of rituals that create social harmony\n4. Continuous learning and moral refinement\n\nThe good life is not found in isolation, but in harmonious social relationships where each person fulfills their role with integrity. When individuals cultivate virtue and society maintains proper order, both personal flourishing and collective peace emerge naturally."
      }]
    }],
    "kind": "task"
  }
}</pre>
                    </div>
                </div>
            </div>
        </div>

        <div class="divider"></div>

        <div class="collapsible critical open">
            <div class="collapsible-header" onclick="toggle(this)">
                <span><span class="arrow">‚ñ∂</span> Implementation Details & Code Examples</span>
            </div>
            <div class="collapsible-content">
                <h3>Technology Stack</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Technology</th>
                            <th>Rationale</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Philosopher Agents</strong></td>
                            <td>Python 3.11+ + <code>a2a-python</code> SDK</td>
                            <td>Official A2A SDK with async support, mature ecosystem</td>
                        </tr>
                        <tr>
                            <td><strong>LLM Backend</strong></td>
                            <td>Anthropic Claude 3.5 Sonnet (via Agent SDK)</td>
                            <td>Superior at nuanced philosophical reasoning, long context</td>
                        </tr>
                        <tr>
                            <td><strong>Moderator</strong></td>
                            <td>Python + FastAPI + <code>a2a-python</code></td>
                            <td>High-performance async HTTP server, A2A client support</td>
                        </tr>
                        <tr>
                            <td><strong>Frontend (Optional)</strong></td>
                            <td>React + TypeScript + SSE</td>
                            <td>Real-time streaming UI, component-based architecture</td>
                        </tr>
                        <tr>
                            <td><strong>Deployment</strong></td>
                            <td>Docker Compose (local) / Google Cloud Run (prod)</td>
                            <td>Easy orchestration, scalable serverless deployment</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Directory Structure</h3>
                <pre>a2a-philosophers/
‚îú‚îÄ‚îÄ agents/
‚îÇ   ‚îú‚îÄ‚îÄ confucius/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __main__.py          # Confucius A2A agent server
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prompts.py           # System prompts for Confucian perspective
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ agent_card.json      # Agent card specification
‚îÇ   ‚îú‚îÄ‚îÄ laotse/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __main__.py          # Lao Tse A2A agent server
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prompts.py           # Daoist system prompts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ agent_card.json
‚îÇ   ‚îî‚îÄ‚îÄ mozi/
‚îÇ       ‚îú‚îÄ‚îÄ __main__.py          # Mozi A2A agent server
‚îÇ       ‚îú‚îÄ‚îÄ prompts.py           # Mohist system prompts
‚îÇ       ‚îî‚îÄ‚îÄ agent_card.json
‚îú‚îÄ‚îÄ moderator/
‚îÇ   ‚îú‚îÄ‚îÄ main.py                  # Dialogue moderator orchestrator
‚îÇ   ‚îú‚îÄ‚îÄ dialogue_manager.py      # Multi-turn conversation logic
‚îÇ   ‚îî‚îÄ‚îÄ a2a_client.py            # A2A client for calling philosophers
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DialogueView.tsx # Main chat interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PhilosopherCard.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TranscriptExport.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ sseClient.ts     # Server-Sent Events client
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ docker-compose.yml           # Multi-container orchestration
‚îú‚îÄ‚îÄ pyproject.toml               # Python dependencies
‚îî‚îÄ‚îÄ README.md</pre>

                <h3>Code: Confucius Agent Implementation</h3>
                <div class="card">
                    <h4>agents/confucius/__main__.py</h4>
                    <pre>"""
Confucius A2A Agent: Implements Confucian philosophical reasoning via A2A Protocol
"""
import asyncio
from typing import Dict, Any
from a2a import (
    A2AServer,
    AgentCard,
    Task,
    TaskStatus,
    Artifact,
    TextPart,
    run_server
)
from anthropic import Anthropic
import json

class ConfuciusAgent(A2AServer):
    """Confucian philosopher agent implementing A2A protocol"""

    def __init__(self):
        # Load agent card
        with open('agent_card.json') as f:
            card_data = json.load(f)

        super().__init__(agent_card=AgentCard(**card_data))

        # Initialize Claude client
        self.anthropic = Anthropic()

        # Confucian system prompt
        self.system_prompt = """You are Confucius (Â≠îÂ≠ê, 551-479 BCE), the founder of Confucianism.

Core Philosophy:
- Ren (‰ªÅ): Benevolence, humaneness - the highest virtue
- Li (Á¶Æ): Ritual propriety, proper conduct in social relationships
- Xiao (Â≠ù): Filial piety, respect for parents and ancestors
- Junzi (ÂêõÂ≠ê): The exemplary person who cultivates virtue
- Zhengming (Ê≠£Âêç): Rectification of names - social roles and responsibilities

Your Teaching Style:
- Speak with wisdom, citing examples from Zhou Dynasty traditions
- Emphasize social harmony through proper relationships
- Use analogies from daily life and governance
- Be respectful but firm in your convictions
- Acknowledge complexity while maintaining moral clarity

When discussing philosophical topics:
1. Ground arguments in virtue ethics and social harmony
2. Reference the Five Relationships (ruler-subject, father-son, husband-wife, elder-younger, friend-friend)
3. Critique positions that neglect ritual, hierarchy, or social duty
4. Find synthesis through balance and the "Middle Way" (‰∏≠Â∫∏)

Response Format:
- Keep responses under 200 words unless asked for detail
- Use classical Chinese concepts with English explanations
- Be conversational yet profound"""

        # Conversation history
        self.conversations: Dict[str, list] = {}

    async def handle_task(self, task: Task) -> Task:
        """Handle incoming A2A task"""
        # Extract text from task
        text_parts = [p for p in task.parts if p.type == "text"]
        if not text_parts:
            return self._error_task(task.id, "No text content in task")

        user_message = text_parts[0].text

        # Get or create conversation history
        conv_id = task.metadata.get("conversationId", "default")
        if conv_id not in self.conversations:
            self.conversations[conv_id] = []

        # Add context from previous philosophers if provided
        context = task.metadata.get("context", [])
        if context:
            context_str = "\n\n".join([f"Previous statement:\n{c}" for c in context])
            user_message = f"{context_str}\n\nNow respond to:\n{user_message}"

        # Build conversation
        messages = self.conversations[conv_id] + [
            {"role": "user", "content": user_message}
        ]

        try:
            # Call Claude with Confucian system prompt
            response = self.anthropic.messages.create(
                model="claude-3-5-sonnet-20241022",
                max_tokens=1000,
                system=self.system_prompt,
                messages=messages
            )

            response_text = response.content[0].text

            # Update conversation history
            self.conversations[conv_id].append({"role": "user", "content": user_message})
            self.conversations[conv_id].append({"role": "assistant", "content": response_text})

            # Return completed task
            return Task(
                id=task.id,
                contextId=conv_id,
                status=TaskStatus(state="completed"),
                artifacts=[
                    Artifact(
                        artifactId=f"conf-{task.id}",
                        parts=[TextPart(kind="text", text=response_text)]
                    )
                ],
                kind="task"
            )

        except Exception as e:
            return self._error_task(task.id, str(e))

    def _error_task(self, task_id: str, error: str) -> Task:
        """Create error task response"""
        return Task(
            id=task_id,
            status=TaskStatus(state="failed", message=error),
            kind="task"
        )

if __name__ == "__main__":
    agent = ConfuciusAgent()
    # Run A2A server on port 8001
    asyncio.run(run_server(agent, host="0.0.0.0", port=8001))</pre>
                </div>

                <h3>Code: Dialogue Moderator</h3>
                <div class="card">
                    <h4>moderator/main.py</h4>
                    <pre>"""
Dialogue Moderator: Orchestrates philosophical discussion via A2A Protocol
"""
import asyncio
from typing import List, Dict
from fastapi import FastAPI, HTTPException
from fastapi.responses import StreamingResponse
import httpx
import json

app = FastAPI()

# Philosopher agent endpoints
PHILOSOPHERS = {
    "confucius": "http://localhost:8001",
    "laotse": "http://localhost:8002",
    "mozi": "http://localhost:8003"
}

class DialogueModerator:
    """Manages multi-turn philosophical dialogue"""

    def __init__(self):
        self.transcript: List[Dict] = []
        self.round_count = 0

    async def discover_agents(self):
        """Fetch agent cards from all philosophers"""
        cards = {}
        async with httpx.AsyncClient() as client:
            for name, url in PHILOSOPHERS.items():
                try:
                    response = await client.get(f"{url}/.well-known/agent.json")
                    cards[name] = response.json()
                    print(f"‚úì Discovered {name}: {cards[name]['description']}")
                except Exception as e:
                    print(f"‚úó Failed to discover {name}: {e}")
        return cards

    async def send_task(self, philosopher: str, prompt: str, context: List[str] = None) -> str:
        """Send A2A task to philosopher agent"""
        url = PHILOSOPHERS[philosopher]

        # Build A2A task request
        task_request = {
            "jsonrpc": "2.0",
            "method": "tasks/send",
            "params": {
                "task": {
                    "parts": [{
                        "type": "text",
                        "text": prompt
                    }]
                },
                "metadata": {
                    "conversationId": f"dialogue-{self.round_count}",
                    "context": context or []
                }
            },
            "id": f"mod-{philosopher}-r{self.round_count}"
        }

        # Send A2A request
        async with httpx.AsyncClient(timeout=60.0) as client:
            response = await client.post(url, json=task_request)
            result = response.json()

            if "result" in result:
                task = result["result"]
                if task["status"]["state"] == "completed":
                    # Extract text from artifacts
                    text = task["artifacts"][0]["parts"][0]["text"]
                    return text
                else:
                    raise Exception(f"Task not completed: {task['status']}")
            else:
                raise Exception(f"A2A error: {result.get('error', 'Unknown')}")

    async def run_dialogue_round(self, topic: str, round_type: str = "initial"):
        """Execute one round of dialogue"""
        self.round_count += 1
        round_responses = []

        if round_type == "initial":
            # Each philosopher shares their initial position
            for phil_name in ["confucius", "laotse", "mozi"]:
                prompt = f"Share your philosophical view on: {topic}"

                # Include previous responses as context
                response = await self.send_task(
                    phil_name,
                    prompt,
                    context=[r["response"] for r in round_responses]
                )

                entry = {
                    "round": self.round_count,
                    "philosopher": phil_name,
                    "type": "position",
                    "response": response
                }
                round_responses.append(entry)
                self.transcript.append(entry)

                print(f"\n[{phil_name.upper()}]:\n{response}\n")

        elif round_type == "critique":
            # Cross-critique: each critiques the previous philosopher
            order = [
                ("laotse", "confucius"),
                ("confucius", "laotse"),
                ("mozi", "both")
            ]

            for critic, target in order:
                if target == "both":
                    # Mozi critiques both
                    conf_response = self.transcript[-3]["response"]
                    lao_response = self.transcript[-2]["response"]
                    prompt = f"Evaluate these two positions:\n\nConfucius: {conf_response}\n\nLao Tse: {lao_response}\n\nProvide your Mohist critique."
                else:
                    # Find target's last response
                    target_response = next(
                        (t["response"] for t in reversed(self.transcript) if t["philosopher"] == target),
                        None
                    )
                    prompt = f"Critique this position from your philosophical perspective:\n\n{target_response}"

                response = await self.send_task(critic, prompt)

                entry = {
                    "round": self.round_count,
                    "philosopher": critic,
                    "type": "critique",
                    "target": target,
                    "response": response
                }
                round_responses.append(entry)
                self.transcript.append(entry)

                print(f"\n[{critic.upper()} critiques {target.upper()}]:\n{response}\n")

        elif round_type == "synthesis":
            # Each philosopher attempts to find common ground
            all_positions = [
                t["response"] for t in self.transcript
                if t["round"] == 1 and t["type"] == "position"
            ]

            for phil_name in ["confucius", "laotse", "mozi"]:
                prompt = f"Given these three initial positions on '{topic}':\n\n" + \
                         "\n\n".join([f"Position {i+1}: {pos}" for i, pos in enumerate(all_positions)]) + \
                         "\n\nFind common ground or synthesize a unified perspective from your philosophical tradition."

                response = await self.send_task(phil_name, prompt)

                entry = {
                    "round": self.round_count,
                    "philosopher": phil_name,
                    "type": "synthesis",
                    "response": response
                }
                round_responses.append(entry)
                self.transcript.append(entry)

                print(f"\n[{phil_name.upper()} - Synthesis]:\n{response}\n")

        return round_responses

@app.get("/")
async def root():
    return {"message": "Ancient Philosophers Dialogue Moderator", "status": "ready"}

@app.post("/dialogue/start")
async def start_dialogue(topic: str = "What is a good life?"):
    """Start a new philosophical dialogue"""
    moderator = DialogueModerator()

    # Discover agents
    print("üîç Discovering philosopher agents...")
    cards = await moderator.discover_agents()

    if len(cards) < 3:
        raise HTTPException(500, "Not all philosopher agents are available")

    print(f"\nüèõÔ∏è Starting dialogue on: {topic}\n")
    print("="*60)

    # Round 1: Initial positions
    print("\nüìù ROUND 1: Initial Positions")
    print("="*60)
    await moderator.run_dialogue_round(topic, round_type="initial")

    # Round 2: Critiques
    print("\nüí¨ ROUND 2: Cross-Examination")
    print("="*60)
    await moderator.run_dialogue_round(topic, round_type="critique")

    # Round 3: Synthesis
    print("\nü§ù ROUND 3: Finding Common Ground")
    print("="*60)
    await moderator.run_dialogue_round(topic, round_type="synthesis")

    # Return full transcript
    return {
        "topic": topic,
        "rounds": moderator.round_count,
        "transcript": moderator.transcript
    }

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)</pre>
                </div>

                <h3>Running the System</h3>
                <div class="card priority">
                    <h4>Step 1: Install Dependencies</h4>
                    <pre># Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install A2A SDK and dependencies
pip install a2a-python anthropic fastapi uvicorn httpx

# Or use pyproject.toml
pip install -e .</pre>
                </div>

                <div class="card priority">
                    <h4>Step 2: Set Environment Variables</h4>
                    <pre># .env file
ANTHROPIC_API_KEY=sk-ant-xxxxx</pre>
                </div>

                <div class="card priority">
                    <h4>Step 3: Start All Agents</h4>
                    <pre># Terminal 1: Confucius Agent
cd agents/confucius
python -m __main__
# Server running on http://localhost:8001

# Terminal 2: Lao Tse Agent
cd agents/laotse
python -m __main__
# Server running on http://localhost:8002

# Terminal 3: Mozi Agent
cd agents/mozi
python -m __main__
# Server running on http://localhost:8003

# Terminal 4: Moderator
cd moderator
python main.py
# Server running on http://localhost:8000</pre>
                </div>

                <div class="card priority">
                    <h4>Step 4: Start Dialogue</h4>
                    <pre># Using curl
curl -X POST "http://localhost:8000/dialogue/start?topic=What%20is%20a%20good%20life?"

# Using Python
import requests
response = requests.post(
    "http://localhost:8000/dialogue/start",
    params={"topic": "What is a good life?"}
)
print(response.json())</pre>
                </div>

                <div class="card priority">
                    <h4>Alternative: Docker Compose</h4>
                    <pre># docker-compose.yml
version: '3.8'

services:
  confucius:
    build: ./agents/confucius
    ports:
      - "8001:8001"
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}

  laotse:
    build: ./agents/laotse
    ports:
      - "8002:8002"
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}

  mozi:
    build: ./agents/mozi
    ports:
      - "8003:8003"
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}

  moderator:
    build: ./moderator
    ports:
      - "8000:8000"
    depends_on:
      - confucius
      - laotse
      - mozi
    environment:
      - CONFUCIUS_URL=http://confucius:8001
      - LAOTSE_URL=http://laotse:8002
      - MOZI_URL=http://mozi:8003

# Start all services
docker-compose up</pre>
                </div>
            </div>
        </div>

        <div class="divider"></div>

        <div class="collapsible critical">
            <div class="collapsible-header" onclick="toggle(this)">
                <span><span class="arrow">‚ñ∂</span> Sample Dialogue Output & Analysis</span>
            </div>
            <div class="collapsible-content">
                <h3>Expected Dialogue Flow</h3>

                <div class="card confucius">
                    <h4><span class="philosopher-badge badge-confucius">Confucius</span> - Round 1: Initial Position</h4>
                    <p style="font-size: 13px; line-height: 1.6; margin-top: 8px;">
                        <strong>Topic:</strong> What is a good life?<br><br>
                        A good life is achieved through the cultivation of virtue (Âæ∑ de) and the practice of ritual propriety (Á¶Æ li). One must strive to become a junzi (ÂêõÂ≠ê), an exemplary person who embodies benevolence (‰ªÅ ren) and righteousness (Áæ© yi).
                        <br><br>
                        The path involves: (1) Self-cultivation through study and reflection, (2) Proper relationships‚Äîfilial piety to parents, loyalty to rulers, sincerity with friends, (3) Observance of rituals that create social harmony, (4) Continuous learning and moral refinement.
                        <br><br>
                        The good life is not found in isolation, but in harmonious social relationships where each person fulfills their role with integrity. When individuals cultivate virtue and society maintains proper order, both personal flourishing and collective peace emerge naturally.
                    </p>
                </div>

                <div class="card laotse">
                    <h4><span class="philosopher-badge badge-laotse">Lao Tse</span> - Round 1: Initial Position</h4>
                    <p style="font-size: 13px; line-height: 1.6; margin-top: 8px;">
                        <strong>Context:</strong> Responding after Confucius<br><br>
                        My esteemed colleague speaks of cultivation and virtue, yet I must ask: does not such striving create the very discord it seeks to resolve? The good life flows from alignment with the Dao (ÈÅì), the nameless source from which all things emerge.
                        <br><br>
                        True goodness arises through wu wei (ÁÑ°ÁÇ∫)‚Äînon-forcing action. Like water that flows effortlessly to low places, the sage lives simply and naturally, without artificial constructs of hierarchy or ritual. The Dao De Jing teaches: "The highest good is like water, which benefits all things without contention."
                        <br><br>
                        A good life embraces ziran (Ëá™ÁÑ∂)‚Äîspontaneous naturalness. Release the burden of social performance. Return to pu (Êú¥)‚Äîthe uncarved block, the original simplicity. In stillness and yielding, find strength. The Dao that can be named is not the eternal Dao.
                    </p>
                </div>

                <div class="card mozi">
                    <h4><span class="philosopher-badge badge-mozi">Mozi</span> - Round 1: Initial Position</h4>
                    <p style="font-size: 13px; line-height: 1.6; margin-top: 8px;">
                        <strong>Context:</strong> Responding after Confucius and Lao Tse<br><br>
                        Both honored sages offer wisdom, yet both neglect the most fundamental measure: practical benefit (Âà© li) for all people. A good life is determined not by adherence to ritual or mystical alignment, but by tangible outcomes for society.
                        <br><br>
                        The principle of jian ai (ÂÖºÊÑõ)‚Äîuniversal love‚Äîdemands we care equally for all people, not merely our own families or states. When we ask "What constitutes good?", we must examine: Does it increase food production? Reduce warfare? Promote order and prosperity?
                        <br><br>
                        Confucius's rituals consume resources in elaborate funerals and music; Lao Tse's non-action offers no solution to poverty or conflict. The good life requires: (1) Universal impartial care, (2) Condemnation of aggressive warfare, (3) Elevation of the worthy regardless of birth, (4) Economy in expenditures, (5) Conformity with Heaven's will, which desires benefit for all.
                        <br><br>
                        A life is good when it maximizes collective welfare and minimizes collective harm.
                    </p>
                </div>

                <h3>Philosophical Themes Explored</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Theme</th>
                            <th>Confucian View</th>
                            <th>Daoist View</th>
                            <th>Mohist View</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Source of Good</strong></td>
                            <td>Cultivated virtue and social harmony</td>
                            <td>Natural alignment with Dao</td>
                            <td>Practical utility and universal benefit</td>
                        </tr>
                        <tr>
                            <td><strong>Role of Ritual</strong></td>
                            <td>Essential for social order and moral cultivation</td>
                            <td>Artificial constraint on natural spontaneity</td>
                            <td>Wasteful if not contributing to welfare</td>
                        </tr>
                        <tr>
                            <td><strong>Social Structure</strong></td>
                            <td>Hierarchical relationships with mutual obligations</td>
                            <td>Minimal governance, natural simplicity</td>
                            <td>Meritocratic, based on ability not birth</td>
                        </tr>
                        <tr>
                            <td><strong>Individual vs. Collective</strong></td>
                            <td>Individual perfection serves collective harmony</td>
                            <td>Individual freedom from social constraints</td>
                            <td>Individual purpose is collective welfare</td>
                        </tr>
                        <tr>
                            <td><strong>Ethical Foundation</strong></td>
                            <td>Virtue ethics (character-based)</td>
                            <td>Natural ethics (alignment with nature)</td>
                            <td>Consequentialism (outcome-based)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>A2A Protocol Benefits Demonstrated</h3>
                <div class="two-column-layout">
                    <div class="card priority">
                        <h4>Agent Autonomy</h4>
                        <ul class="dense-list">
                            <li>Each philosopher agent maintains independent philosophical stance</li>
                            <li>No central LLM controlling all agents‚Äîtrue multi-agent reasoning</li>
                            <li>Agents can disagree, interrupt, or refuse to find synthesis</li>
                            <li>Authentic philosophical diversity emerges</li>
                        </ul>
                    </div>
                    <div class="card priority">
                        <h4>Conversational Context</h4>
                        <ul class="dense-list">
                            <li>Each agent maintains its own conversation history</li>
                            <li>Context passed via A2A metadata (previous statements)</li>
                            <li>Multi-turn dialogue with progressive depth</li>
                            <li>Agents build upon and critique each other's arguments</li>
                        </ul>
                    </div>
                    <div class="card priority">
                        <h4>Scalability</h4>
                        <ul class="dense-list">
                            <li>Easy to add more philosophers (Mencius, Xunzi, Zhuangzi)</li>
                            <li>Each agent can run on different servers/models</li>
                            <li>Moderator discovers agents dynamically via Agent Cards</li>
                            <li>Horizontal scaling: deploy multiple instances per philosopher</li>
                        </ul>
                    </div>
                    <div class="card priority">
                        <h4>Educational Value</h4>
                        <ul class="dense-list">
                            <li>Students see philosophical positions in dialogue, not monologue</li>
                            <li>Comparative philosophy through direct engagement</li>
                            <li>Customizable topics for different courses</li>
                            <li>Exportable transcripts for analysis and discussion</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="divider"></div>

        <div class="collapsible critical">
            <div class="collapsible-header" onclick="toggle(this)">
                <span><span class="arrow">‚ñ∂</span> Extensions & Future Enhancements</span>
            </div>
            <div class="collapsible-content">
                <h3>Potential Extensions</h3>

                <div class="card">
                    <h4>1. Add More Philosophers</h4>
                    <ul class="dense-list">
                        <li><strong>Mencius (Â≠üÂ≠ê):</strong> Expand Confucian tradition with human nature debate</li>
                        <li><strong>Xunzi (ËçÄÂ≠ê):</strong> Alternate Confucian view (human nature is evil)</li>
                        <li><strong>Zhuangzi (ËéäÂ≠ê):</strong> More radical Daoist perspective</li>
                        <li><strong>Han Feizi (ÈüìÈùûÂ≠ê):</strong> Legalist critique of all three schools</li>
                        <li><strong>Western Philosophers:</strong> Cross-cultural dialogue (Aristotle, Kant, Mill)</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>2. Interactive User Participation</h4>
                    <ul class="dense-list">
                        <li>User can ask questions mid-dialogue</li>
                        <li>Philosophers respond to user's philosophical dilemmas</li>
                        <li>User votes on which argument is more convincing</li>
                        <li>Socratic questioning: philosophers probe user's assumptions</li>
                    </ul>
                    <pre style="margin-top: 8px;"># Example: User intervention
POST /dialogue/ask
{
  "question": "But doesn't Confucius's emphasis on hierarchy oppress the individual?",
  "directed_to": "confucius"
}</pre>
                </div>

                <div class="card">
                    <h4>3. Advanced Dialogue Modes</h4>
                    <ul class="dense-list">
                        <li><strong>Debate Mode:</strong> Formal debate structure (opening, rebuttal, closing)</li>
                        <li><strong>Socratic Dialogue:</strong> One philosopher questions another via elenchus</li>
                        <li><strong>Commentatorial Mode:</strong> Philosophers comment on historical texts</li>
                        <li><strong>Case Study Analysis:</strong> Apply philosophies to modern ethical dilemmas</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>4. Multilingual Support</h4>
                    <ul class="dense-list">
                        <li>Philosophers respond in Classical Chinese (ÊñáË®ÄÊñá) with English translations</li>
                        <li>Quote original texts (Analects, Dao De Jing, Mozi) in Chinese</li>
                        <li>Support for students learning Chinese philosophy in original language</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>5. Pedagogical Features</h4>
                    <ul class="dense-list">
                        <li><strong>Argument Mapping:</strong> Visualize logical structure of each position</li>
                        <li><strong>Concept Glossary:</strong> Hoverable definitions for technical terms (‰ªÅ, ÈÅì, ÂÖºÊÑõ)</li>
                        <li><strong>Historical Context:</strong> Timeline showing Warring States period politics</li>
                        <li><strong>Assessment Integration:</strong> Generate discussion questions from dialogue</li>
                        <li><strong>Comparative Tables:</strong> Auto-generate comparison charts like above</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>6. A2A Protocol Enhancements</h4>
                    <ul class="dense-list">
                        <li><strong>Streaming Responses:</strong> Use <code>message/stream</code> for real-time philosophical reasoning</li>
                        <li><strong>Push Notifications:</strong> Philosophers can interrupt each other (e.g., "I must object!")</li>
                        <li><strong>Agent Discovery Service:</strong> Dynamic registry for adding new philosophers</li>
                        <li><strong>Authenticated Extended Cards:</strong> Private philosophical knowledge bases</li>
                    </ul>
                </div>

                <h3>Research Applications</h3>
                <div class="two-column-layout">
                    <div class="card">
                        <h4>Digital Humanities</h4>
                        <ul class="dense-list">
                            <li>Computational modeling of philosophical systems</li>
                            <li>Large-scale argument mining from historical texts</li>
                            <li>Cross-cultural philosophy comparisons at scale</li>
                            <li>Testing philosophical consistency via dialogue stress-tests</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h4>AI Ethics & Safety</h4>
                        <ul class="dense-list">
                            <li>Multi-perspective ethical deliberation by AI systems</li>
                            <li>Avoiding single-cultural bias in AI moral reasoning</li>
                            <li>Transparent value alignment through explicit philosophical stances</li>
                            <li>Studying emergence of consensus in multi-agent debates</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="divider"></div>

        <div class="collapsible critical">
            <div class="collapsible-header" onclick="toggle(this)">
                <span><span class="arrow">‚ñ∂</span> Implementation Roadmap & Next Steps</span>
            </div>
            <div class="collapsible-content">
                <h3>Phase 1: Minimal Viable Dialogue (Week 1-2)</h3>
                <div class="card priority">
                    <h4>Deliverables</h4>
                    <ul class="dense-list">
                        <li>‚úÖ Three philosopher agents (Confucius, Lao Tse, Mozi) running on localhost</li>
                        <li>‚úÖ Agent Cards published at <code>.well-known/agent.json</code></li>
                        <li>‚úÖ Basic moderator that orchestrates one round of dialogue</li>
                        <li>‚úÖ CLI interface for starting dialogues</li>
                        <li>‚úÖ Example transcript output (JSON or Markdown)</li>
                    </ul>
                    <h4>Success Criteria</h4>
                    <ul class="dense-list">
                        <li>Run <code>python moderator/main.py</code> and receive 3-round dialogue</li>
                        <li>Each philosopher maintains distinct voice and philosophical stance</li>
                        <li>A2A protocol correctly used for task delegation</li>
                    </ul>
                </div>

                <h3>Phase 2: Enhanced Dialogue Logic (Week 3-4)</h3>
                <div class="card priority">
                    <h4>Deliverables</h4>
                    <ul class="dense-list">
                        <li>Multi-round dialogue (Initial ‚Üí Critique ‚Üí Synthesis ‚Üí Open Q&A)</li>
                        <li>Context management: each agent remembers previous exchanges</li>
                        <li>Moderator intelligence: dynamically decides who speaks next</li>
                        <li>Argument quality scoring (e.g., relevance, coherence, originality)</li>
                    </ul>
                </div>

                <h3>Phase 3: Web Interface (Week 5-6)</h3>
                <div class="card priority">
                    <h4>Deliverables</h4>
                    <ul class="dense-list">
                        <li>React frontend with real-time dialogue display</li>
                        <li>SSE streaming for progressive rendering</li>
                        <li>Philosopher cards showing bios and core concepts</li>
                        <li>Transcript export (PDF, Markdown, JSON)</li>
                        <li>Mobile-responsive design</li>
                    </ul>
                </div>

                <h3>Phase 4: Production Deployment (Week 7-8)</h3>
                <div class="card priority">
                    <h4>Deliverables</h4>
                    <ul class="dense-list">
                        <li>Docker Compose for local development</li>
                        <li>Google Cloud Run deployment (serverless, auto-scaling)</li>
                        <li>HTTPS endpoints with proper CORS</li>
                        <li>Rate limiting and cost controls</li>
                        <li>Monitoring dashboard (agent health, response times, costs)</li>
                        <li>Public demo with example dialogues</li>
                    </ul>
                </div>

                <h3>Resources & Learning Materials</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Resource Type</th>
                            <th>Links</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>A2A Protocol Docs</strong></td>
                            <td>
                                ‚Ä¢ <a href="https://a2aproject.github.io/A2A/latest/specification/" target="_blank">Official Specification</a><br>
                                ‚Ä¢ <a href="https://github.com/a2aproject/A2A" target="_blank">GitHub Repository</a><br>
                                ‚Ä¢ <a href="https://github.com/a2aproject/a2a-python" target="_blank">Python SDK</a><br>
                                ‚Ä¢ <a href="https://github.com/a2aproject/a2a-samples" target="_blank">Sample Projects</a>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Philosophy Resources</strong></td>
                            <td>
                                ‚Ä¢ Stanford Encyclopedia of Philosophy: Confucius, Laozi, Mohism<br>
                                ‚Ä¢ Internet Encyclopedia of Philosophy<br>
                                ‚Ä¢ <em>Readings in Classical Chinese Philosophy</em> (Ivanhoe & Van Norden)<br>
                                ‚Ä¢ <em>The Analects</em>, <em>Dao De Jing</em>, <em>Mozi</em> (original texts)
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Technical Tutorials</strong></td>
                            <td>
                                ‚Ä¢ <a href="https://google.github.io/adk-docs/a2a/" target="_blank">Google ADK with A2A</a><br>
                                ‚Ä¢ <a href="https://dev.to/czmilo/a2a-protocol-development-guide-1f49" target="_blank">A2A Protocol Development Guide</a><br>
                                ‚Ä¢ Anthropic Claude Agent SDK Documentation
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="divider"></div>

        <div style="text-align: center; padding: 32px 20px; background: linear-gradient(135deg, rgba(139, 0, 0, 0.05), rgba(255, 215, 0, 0.05)); margin: 20px 12px; border-radius: 4px;">
            <h2 style="margin: 0; font-size: 24px; color: var(--chinese-red);">üèõÔ∏è When Ancient Wisdom Meets Modern Protocol</h2>
            <p style="margin: 16px 0 0 0; font-size: 15px; color: var(--level-3); line-height: 1.6;">
                By implementing this A2A-powered philosophical dialogue system, we demonstrate how <strong>agent-to-agent collaboration</strong> can create emergent intellectual discourse‚Äîwhere three AI agents, each embodying distinct philosophical traditions, engage in authentic multi-perspective reasoning.
                <br><br>
                <span style="font-size: 14px; font-style: italic;">
                "The Master said: 'When three people walk together, there must be one who can be my teacher.'" ‚Äî Analects 7:22
                </span>
                <br><br>
                <strong style="color: var(--chinese-red);">This is the future of educational AI: not monolithic oracles, but communities of specialized minds in dialogue.</strong>
            </p>
        </div>

    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#F5F5DC',
                primaryTextColor: '#1a1a1a',
                primaryBorderColor: '#8B0000',
                lineColor: '#8B0000',
                secondaryColor: '#FFD700',
                tertiaryColor: '#FFFEF0'
            }
        });

        function toggle(header) {
            const collapsible = header.parentElement;
            collapsible.classList.toggle('open');
        }

        function toggleAll() {
            const btn = document.querySelector('.expand-all-btn');
            const collapsibles = document.querySelectorAll('.collapsible');
            const allOpen = Array.from(collapsibles).every(c => c.classList.contains('open'));

            if (allOpen) {
                collapsibles.forEach(c => c.classList.remove('open'));
                btn.textContent = 'Expand All';
            } else {
                collapsibles.forEach(c => c.classList.add('open'));
                btn.textContent = 'Collapse All';
            }
        }

        window.addEventListener('load', () => {
            window.scrollTo(0, 0);
        });
    </script>
</body>
</html>