<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confucian Café: English-First Multilingual Autonomy</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        :root {
            --chinese-red: #8B0000;
            --chinese-gold: #FFD700;
            --paper-beige: #F5F5DC;
            --light-cream: #FFFEF0;
            --ink-black: #1a1a1a;
            --level-1: #8B0000;
            --level-2: #CD5C5C;
            --level-3: #444;
            --level-4: #777;
            --confucius-blue: #4A90E2;
            --laotse-green: #50C878;
            --mozi-purple: #9370DB;
            --jade-green: #00A86B;
            --planned-orange: #D2691E;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: linear-gradient(135deg, var(--paper-beige) 0%, var(--light-cream) 100%);
            color: var(--ink-black);
            margin: 0; padding: 0; width: 100vw; max-width: 100%;
            line-height: 1.35; font-size: 14px;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro', 'Segoe UI', Roboto, Arial, sans-serif;
        }

        .container { width: 100%; padding: 0; margin: 0; }

        h1 {
            font-size: 32px; font-weight: 900; margin: 12px 0; padding: 16px 12px;
            background: linear-gradient(135deg, var(--chinese-red), #CD5C5C);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px; text-align: center;
        }

        h2 {
            font-size: 22px; font-weight: 700; margin: 16px 0 8px 0; padding: 8px 12px;
            border-left: 4px solid var(--chinese-red); background: rgba(139, 0, 0, 0.05);
            color: var(--level-1);
        }

        h3 {
            font-size: 18px; font-weight: 600; margin: 12px 0 6px 12px;
            color: var(--level-2); text-transform: uppercase; letter-spacing: 0.5px;
        }

        h4 {
            font-size: 15px; font-weight: 600; margin: 8px 0 4px 16px;
            color: var(--level-3);
        }

        p { margin: 8px 12px; color: var(--level-3); }

        .important-always-visible {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), white);
            border: 3px solid var(--chinese-gold); padding: 16px; margin: 20px 12px;
            border-radius: 4px; box-shadow: 0 2px 8px rgba(139, 0, 0, 0.12);
        }

        .important-always-visible h2 {
            color: var(--chinese-red); margin-top: 0;
            border-left: none; background: none; padding-left: 0;
        }

        .collapsible { margin: 8px 12px; width: calc(100% - 24px); }

        .collapsible-header {
            cursor: pointer; padding: 10px 16px;
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.06), rgba(255, 215, 0, 0.03));
            border-left: 3px solid var(--chinese-gold);
            display: flex; align-items: center; justify-content: space-between;
            user-select: none; transition: all 0.2s ease;
            font-weight: 600; font-size: 16px; color: var(--level-2);
        }

        .collapsible-header:hover {
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.12), rgba(255, 215, 0, 0.08));
        }

        .collapsible-header .arrow {
            display: inline-block; transition: transform 0.3s ease;
            color: var(--chinese-red); font-size: 14px; font-weight: bold;
        }

        .collapsible.open .arrow { transform: rotate(90deg); }

        .collapsible-content {
            max-height: 0; overflow: hidden; transition: max-height 0.3s ease;
            padding: 0 16px; margin-left: 12px;
        }

        .collapsible.open .collapsible-content {
            max-height: 30000px; padding: 16px;
        }

        .collapsible.critical .collapsible-header {
            border-left: 4px solid var(--chinese-red);
            background: rgba(139, 0, 0, 0.12);
            font-weight: 700; font-size: 17px;
        }

        .two-column-layout {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 18px; padding: 8px;
        }

        .card {
            background: white; border: 1px solid rgba(139, 0, 0, 0.2);
            border-radius: 3px; padding: 12px; margin: 8px 0;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }

        .card.priority {
            border: 2px solid var(--chinese-gold);
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.12), white);
        }

        .card h4 { margin: 0 0 8px 0; color: var(--chinese-red); }

        .dense-list {
            list-style: none; padding: 0; margin: 8px 0 8px 12px;
        }

        .dense-list li {
            margin: 6px 0; padding-left: 12px; position: relative;
            color: var(--level-3);
        }

        .dense-list li::before {
            content: '\2022'; position: absolute; left: 0; color: var(--chinese-red);
        }

        .language-chip {
            display: inline-flex; align-items: center; gap: 6px;
            border: 1px solid var(--chinese-red); border-radius: 999px;
            padding: 4px 10px; margin: 4px 6px; font-size: 13px;
            background: rgba(139, 0, 0, 0.07); color: var(--level-2);
        }

        .language-chip span {
            font-weight: 600; color: var(--chinese-red);
        }

        .tabs-mockup {
            display: flex; gap: 6px; margin: 10px 0; flex-wrap: wrap;
        }

        .tab {
            padding: 8px 14px; border-radius: 6px;
            background: rgba(139, 0, 0, 0.08); color: var(--level-2);
            font-weight: 600; font-size: 13px; border: 1px solid rgba(139, 0, 0, 0.3);
            box-shadow: inset 0 -2px 0 rgba(255, 215, 0, 0.4);
        }

        .tab.active {
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.85), rgba(255, 215, 0, 0.55));
            color: white; border-color: rgba(139, 0, 0, 0.9);
        }

        .language-columns {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; margin: 12px 0;
        }

        .language-panel {
            border: 1px solid rgba(139, 0, 0, 0.2); border-radius: 4px; padding: 12px; background: white;
        }

        .language-panel h4 { margin: 0 0 6px 0; }

        .language-panel pre {
            background: rgba(245, 245, 220, 0.6); border-radius: 4px; padding: 10px; font-size: 12px; overflow-x: auto;
        }

        .sentence-chip {
            display: inline-flex; align-items: center; gap: 4px; padding: 4px 8px;
            border-radius: 6px; border: 1px solid rgba(0,0,0,0.1); margin: 4px;
            background: rgba(255, 215, 0, 0.15); font-size: 12px; color: var(--level-3);
        }

        pre {
            background: rgba(245, 245, 220, 0.6); border-radius: 4px; padding: 12px; margin: 8px 0;
            font-size: 12px; line-height: 1.45; overflow-x: auto; border-left: 3px solid rgba(139, 0, 0, 0.3);
        }

        .tag {
            display: inline-block; padding: 2px 6px; border-radius: 4px; font-size: 11px;
            margin: 0 4px; color: white;
        }

        .tag.modern { background: var(--jade-green); }
        .tag.ancient { background: var(--chinese-red); }
        .tag.english { background: var(--confucius-blue); }
        .tag.system { background: var(--planned-orange); }

        .timeline {
            border-left: 3px solid rgba(139, 0, 0, 0.3); margin: 16px 12px; padding-left: 18px;
        }

        .timeline-item { margin-bottom: 14px; position: relative; }

        .timeline-item::before {
            content: ''; position: absolute; left: -23px; top: 4px;
            width: 10px; height: 10px; border-radius: 50%; background: var(--chinese-red);
        }

        .multi-flow-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; margin: 12px;
        }

        .dialogue-card {
            border: 1px solid rgba(139, 0, 0, 0.2); border-radius: 4px; padding: 12px; background: white;
            display: flex; flex-direction: column; gap: 10px;
        }

        .dialogue-card header {
            display: flex; align-items: center; justify-content: space-between;
            font-weight: 600; color: var(--level-2);
        }

        .dialogue-snippet {
            background: rgba(255, 255, 255, 0.9); border-radius: 4px; padding: 10px;
            border-left: 3px solid rgba(139, 0, 0, 0.4);
        }

        .divider {
            height: 2px; background: linear-gradient(90deg, rgba(139, 0, 0, 0.1), rgba(255, 215, 0, 0.3), rgba(139, 0, 0, 0.1));
            margin: 24px 0;
        }

        .expand-all-btn {
            margin: 12px; padding: 8px 14px; border-radius: 4px; border: 1px solid rgba(139, 0, 0, 0.4);
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(139, 0, 0, 0.12));
            cursor: pointer; font-weight: 600; color: var(--level-2);
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 720px) {
            h1 { font-size: 26px; }
            h2 { font-size: 20px; }
            .tabs-mockup { flex-direction: column; }
            .tab { width: 100%; text-align: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="expand-all-btn" onclick="toggleAll()">Expand All</button>

        <h1>Confucian Café · English-First Multilingual Society</h1>

        <div class="important-always-visible">
            <h2>Core Pillars</h2>
            <ul class="dense-list">
                <li>English is the default surface; essential terms appear as Chinese transliterations (e.g., <em>ren</em> 仁 rén, <em>li</em> 礼 lǐ) so nuance persists while reading flows.</li>
                <li>Toggles instantly fetch Modern or Ancient Chinese via the existing <code>interactive_translation</code> pipeline; results stay sentence-aligned.</li>
                <li>All three governance modes—User Curator, Peer Routing Council, Autonomous Society—run in parallel and inherit the same language state.</li>
                <li>Persona builder remains two-minute-friendly while capturing translation and transliteration preferences.</li>
                <li>Memory layer is lightweight: a single <code>/memories</code> directory powered by Anthropic’s beta memory tool stores session summaries and translation breadcrumbs.</li>
            </ul>
        </div>

        <div class="collapsible open">
            <div class="collapsible-header" onclick="toggle(this)">
                Adaptive Language Surface <span class="arrow">➤</span>
            </div>
            <div class="collapsible-content">
                <p>English renders first. Users pull in modern or classical Chinese when needed, and clause-level IDs mirror the interactive translation system so highlights travel cleanly.</p>
                <div class="tabs-mockup">
                    <div class="tab active">English + Transliteration</div>
                    <div class="tab">Add Modern Chinese</div>
                    <div class="tab">Add Ancient Chinese</div>
                    <div class="tab">Audio & Pinyin</div>
                </div>
                <div class="card priority">
                    <h4>Language Toggle Bar</h4>
                    <ul class="dense-list">
                        <li>Default chips: <span class="language-chip"><span>EN</span> English</span> active; taps enable <span class="language-chip"><span>现</span></span> or <span class="language-chip"><span>古</span></span>.</li>
                        <li>Switching languages uses the same fade/slide microinteraction from the translation demo.</li>
                        <li>Sentence IDs persist (<span class="sentence-chip">#12</span>) so hover syncing works regardless of how many languages are visible.</li>
                        <li>Optional auto-translate mode pulls Chinese the moment a sentence gains focus.</li>
                    </ul>
                </div>
                <div class="language-columns">
                    <div class="language-panel">
                        <h4>Active View · English w/ Transliteration</h4>
                        <pre><span class="tag english">EN</span> Confucius: Ritual <strong>(li 礼 lǐ)</strong> should meet today’s rhythms so the young embrace it without losing <strong>(ren 仁 rén)</strong>.</pre>
                    </div>
                    <div class="language-panel">
                        <h4>Toggle · Modern Chinese</h4>
                        <pre><span class="tag modern">现</span> 孔子：我们的礼制需要适应新的社会节奏，才能让年轻人真心接纳。</pre>
                    </div>
                    <div class="language-panel">
                        <h4>Toggle · Ancient Chinese</h4>
                        <pre><span class="tag ancient">古</span> 孔子曰：礼者，随世而易其节，乃可感人心，使后生乐从。</pre>
                    </div>
                </div>
                <div class="card">
                    <h4>Interactive Linking (from interactive_translation)</h4>
                    <ul class="dense-list">
                        <li>Hovering any clause lights up transliterations plus hidden-language counterparts.</li>
                        <li>Multi-select builds “study stacks” that capture English + whichever Chinese layers are enabled.</li>
                        <li>Pin board stores bundles for later review; tapping replays aligned audio.</li>
                        <li>Context inspector shows literal glosses, tone marks, and classifier notes.</li>
                    </ul>
                </div>
                <pre>// Language state mirrors interactive_translation and defaults to English
const languageState = {
  activeLanguages: new Set(['english']),
  available: ['english', 'modern', 'ancient'],
  segments: new Map(), // sentenceId -> { english, modern, ancient }
  toggleLanguage(lang) {
    if (lang === 'english') return; // always on
    this.activeLanguages.has(lang)
      ? this.activeLanguages.delete(lang)
      : this.activeLanguages.add(lang);
    renderSegments();
  }
};
</pre>
            </div>
        </div>

        <div class="collapsible open">
            <div class="collapsible-header" onclick="toggle(this)">
                Philosopher Creation Kit <span class="arrow">➤</span>
            </div>
            <div class="collapsible-content">
                <p>Persona setup now captures transliteration habits so English outputs stay faithful to Chinese terminology.</p>
                <div class="two-column-layout">
                    <div class="card priority">
                        <h4>Template Builder</h4>
                        <ul class="dense-list">
                            <li>Era, School, Signature Virtues, Known Debates capture voice quickly.</li>
                            <li>Language defaults: choose auto-open Modern or Ancient when the user taps a philosopher.</li>
                            <li>Transliteration dictionary field (e.g., ren 仁 rén, li 礼 lǐ) ensures English lines embed key hanzi + pinyin.</li>
                            <li>Custom glyph or seal uploaded as avatar.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h4>Preview Sandbox</h4>
                        <ul class="dense-list">
                            <li>Instant preview shows English first; toggles demonstrate on-demand Chinese.</li>
                            <li>Validation warns if transliteration dictionary conflicts with persona style.</li>
                            <li>“Ping cohort” invites existing philosophers to review voice fit.</li>
                            <li>Blueprint export shares JSON + transliteration map for reuse.</li>
                        </ul>
                    </div>
                </div>
                <pre>// Example schema with transliteration map
{
  "name": "Zhang Zai",
  "school": "Neo-Confucianism",
  "signatureConcepts": ["氣", "太和", "境界"],
  "language": {
    "defaultVisible": ["english"],
    "available": ["english", "modern", "ancient"],
    "transliteration": {
      "qi": "qi 气 qì",
      "taihe": "taihe 太和 tài hé"
    }
  },
  "responseProtocols": {
    "prefers": ["debate", "joint reflection"],
    "avoids": ["idle gossip"],
    "autoTranslate": true
  }
}
</pre>
            </div>
        </div>

        <div class="collapsible open">
            <div class="collapsible-header" onclick="toggle(this)">
                Three Interaction Modes (Simultaneous) <span class="arrow">➤</span>
            </div>
            <div class="collapsible-content">
                <p>Governance remains modular. English stays visible across all modes; Chinese layers appear when toggled.</p>
                <div class="multi-flow-grid">
                    <div class="dialogue-card">
                        <header>User as Curator</header>
                        <div class="dialogue-snippet">
                            <p><span class="tag system">Event</span> User: "Announce: Duke of Zhou has entered."<br>
                            <span class="tag english">EN</span> Mencius: Duke of Zhou, share today’s governance priorities.<br>
                            <span class="tag modern">现</span> (on demand) 孟子：欢迎周公，请述今日之政。<br>
                            <span class="tag ancient">古</span> (on demand) 孟子曰：周公至，願聞政令。</p>
                        </div>
                        <ul class="dense-list">
                            <li>User queues speakers, toggles languages per turn, resolves conflicts.</li>
                            <li>Balance meter shows which languages were displayed during moderation.</li>
                            <li>Timeline logs human interventions with language state snapshots.</li>
                        </ul>
                    </div>
                    <div class="dialogue-card">
                        <header>Peer Routing Council</header>
                        <div class="dialogue-snippet">
                            <p><span class="tag system">Signal</span> Laozi spots Mozi debating defense ethics.<br>
                            <span class="tag english">EN</span> Laozi: I will answer Mozi through <strong>wuwei 无为 wúwéi</strong>.<br>
                            <span class="tag modern">现</span> (optional) 老子：我愿以无为释墨子的辩。<br>
                            <span class="tag ancient">古</span> (optional) 老子曰：兵者，不祥之器。</p>
                        </div>
                        <ul class="dense-list">
                            <li>Agents preview stored English context before deciding to respond.</li>
                            <li>Reciprocity ledger tracks replies; user can expand Chinese when reviewing.</li>
                            <li>Dynamic captions highlight which language triggered a response.</li>
                        </ul>
                    </div>
                    <div class="dialogue-card">
                        <header>Autonomous Society</header>
                        <div class="dialogue-snippet">
                            <p><span class="tag system">Prompt</span> External event: "Yellow River water level is rising."<br>
                            <span class="tag english">EN</span> Xunzi: Rising water demands firm law <strong>(fa 法 fǎ)</strong> and human readiness.<br>
                            <span class="tag modern">现</span> (optional) 荀子：此事促我重申法度与人治的协调。<br>
                            <span class="tag ancient">古</span> (optional) 荀子曰：河涨，法不可隳，人亦当备。</p>
                        </div>
                        <ul class="dense-list">
                            <li>Agents self-select participation; journals default to English, with buttons to pull Chinese.</li>
                            <li>Election mini-ritual logs decisions in English summaries plus transliteration notes.</li>
                            <li>External events remain visible even if Chinese layers are hidden.</li>
                        </ul>
                    </div>
                </div>
                <div class="timeline">
                    <div class="timeline-item">
                        <h4>Step 1 · External Event Arrives</h4>
                        <p>User injects a cue; English summary appears immediately, Chinese buttons ready for expansion.</p>
                    </div>
                    <div class="timeline-item">
                        <h4>Step 2 · Agent Intent Board</h4>
                        <p>Agents broadcast intent with tags like “reply (ancient)” or “observe (modern paraphrase).”</p>
                    </div>
                    <div class="timeline-item">
                        <h4>Step 3 · Response Weaving</h4>
                        <p>Responses stay grouped in English; toggling Chinese reveals aligned sentences pulled on demand.</p>
                    </div>
                    <div class="timeline-item">
                        <h4>Step 4 · Archive Update</h4>
                        <p>Memory tool writes a short English digest plus references to stored Chinese translations.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="collapsible">
            <div class="collapsible-header" onclick="toggle(this)">
                UI States & Microinteractions <span class="arrow">➤</span>
            </div>
            <div class="collapsible-content">
                <div class="two-column-layout">
                    <div class="card">
                        <h4>Conversation Canvas</h4>
                        <ul class="dense-list">
                            <li>Floating toggle pill anchors near top-right (English locked on, others optional).</li>
                            <li>Hover loupe exposes literal glosses and tone marks for highlighted terms.</li>
                            <li>Quick jump buttons: "Show Modern", "Show Ancient", "Collapse Back to English".</li>
                            <li>Scroll sync indicator shows which hidden languages track the English timeline.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h4>Notification Spine</h4>
                        <ul class="dense-list">
                            <li>Badge colors differentiate human events vs agent initiatives.</li>
                            <li>“Council forming” toast appears when agents coordinate without user prompt.</li>
                            <li>Ancient Chinese popups render in seal script; accessible transcription sits below.</li>
                        </ul>
                    </div>
                </div>
                <pre>// API call sketch: pull Chinese only when toggled
async function ensureLanguage(sentenceIds, lang) {
  if (languageState.segmentsReady(sentenceIds, lang)) return;
  const response = await fetch('/api/segment-and-translate', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      sentenceIds,
      inputLanguage: 'english',
      outputLanguages: [lang]
    })
  });
  const data = await response.json();
  mergeSegments(data.segments);
}
</pre>
            </div>
        </div>

        <div class="collapsible">
            <div class="collapsible-header" onclick="toggle(this)">
                Memory Tool Integration (Simplified) <span class="arrow">➤</span>
            </div>
            <div class="collapsible-content">
                <p>The memory layer mirrors Anthropic’s beta memory tool: one directory, English-first notes, with references to stored translations for replay.</p>
                <div class="card priority">
                    <h4>Lightweight Memory Structure</h4>
                    <ul class="dense-list">
                        <li>Directory: <code>/memories</code> with files like <code>2025-10-04-session.md</code>.</li>
                        <li>Each file tracks English summary, transliteration glossary, and fetch state (which Chinese layers were viewed).</li>
                        <li>Tool commands limited to <code>view</code>, <code>create</code>, <code>insert</code>, <code>str_replace</code>, <code>rename</code>, <code>delete</code>.</li>
                        <li>Client enforces paths stay inside <code>/memories</code> and stores data wherever you prefer.</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Sample Memory File</h4>
                    <pre># 2025-10-04 · Governance Debate
External event: Yellow River rising
Visible languages: english (default), modern (user toggled)
Key terms: li 礼 lǐ, fa 法 fǎ
Responses:
- Xunzi: “Rising water demands firm law (fa 法 fǎ).”
- Mozi: “Defense should protect the people (min 民 mín).”
Next prompts: ask Duke of Zhou for irrigation rituals.
</pre>
                </div>
                <div class="card">
                    <h4>Mermaid Snapshot</h4>
                    <div class="mermaid">
                        graph TD
                            A[User / External Event] --> B[English Dialogue Stream]
                            B --> C{Optional Language Fetch}
                            C --> D[Modern Chinese]
                            C --> E[Ancient Chinese]
                            B --> F[Memory Tool Handler]
                            F --> G[/memories/YYYY-MM-DD-session.md]
                    </div>
                </div>
                <pre>// Memory tool handlers (TypeScript)
import { betaMemoryTool } from '@anthropic-ai/claude-agent-sdk';

export const memory = betaMemoryTool({
  root: path.resolve('./memories'),
  onWrite(filePath, content) {
    auditLog({ filePath, bytes: content.length });
  }
});
</pre>
                <pre>// API request snippet (beta header required)
const response = await client.messages.create({
  model: 'claude-sonnet-4-5',
  beta: ['context-management-2025-06-27'],
  tools: [{ type: 'memory_20250818', name: 'memory' }],
  messages: [...]
});
</pre>
            </div>
        </div>

        <div class="divider"></div>

        <div style="text-align: center; padding: 32px 20px; background: linear-gradient(135deg, rgba(139, 0, 0, 0.05), rgba(255, 215, 0, 0.05)); margin: 20px 12px; border-radius: 4px;">
            <h2 style="margin: 0; font-size: 24px; color: var(--chinese-red);">English First · Chinese On Demand</h2>
            <p style="margin: 16px 0 0 0; font-size: 15px; color: var(--level-3); line-height: 1.6;">
                The café now speaks to modern audiences in English while honoring Confucian nuance through transliteration and instant Chinese toggles. Governance modes stay autonomous, and a lean memory tool keeps track of what matters across sessions.
            </p>
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#F5F5DC',
                primaryTextColor: '#1a1a1a',
                primaryBorderColor: '#8B0000',
                lineColor: '#8B0000',
                secondaryColor: '#FFD700',
                tertiaryColor: '#FFFEF0'
            }
        });

        function toggle(header) {
            const collapsible = header.parentElement;
            collapsible.classList.toggle('open');
        }

        function toggleAll() {
            const btn = document.querySelector('.expand-all-btn');
            const collapsibles = document.querySelectorAll('.collapsible');
            const allOpen = Array.from(collapsibles).every(c => c.classList.contains('open'));

            if (allOpen) {
                collapsibles.forEach(c => c.classList.remove('open'));
                btn.textContent = 'Expand All';
            } else {
                collapsibles.forEach(c => c.classList.add('open'));
                btn.textContent = 'Collapse All';
            }
        }

        window.addEventListener('load', () => {
            window.scrollTo(0, 0);
        });
    </script>
</body>
</html>
